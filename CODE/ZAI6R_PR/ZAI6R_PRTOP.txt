*&---------------------------------------------------------------------*
*& Include          Z27R0006TOP
*&---------------------------------------------------------------------*

TABLES : ZSO_TABLE_SICS.

*DISP
DATA : BEGIN OF GS_DISP1,
       VBELN  TYPE ZSO_MANAGE-VBELN,     "so번호
       POSNR  TYPE VBAP-POSNR,           "ITEM번호
       AUDAT  TYPE VBAK-ERDAT,           "SO생성날짜,
       MATNR  TYPE MARA-MATNR,           "자재번호
       ARKTX  TYPE VBAP-ARKTX,           "자재설명
       KWMENG TYPE VBAP-KWMENG,          "수량
       VRKME  TYPE VBAP-VRKME,           "단위
       KUNNR  TYPE VBAK-KUNNR,           "고객사
       BSTNK  TYPE VBAK-BSTNK,           "업체PO번호
*       ERNAM  TYPE VBAK-ERNAM,          "SO생성자
       BANFN  TYPE ZSO_MANAGE-BANFN,     "PR번호,
       ERDAT  TYPE ZSO_MANAGE-ERDAT,     "PR날짜,
       ERNAM  TYPE ZSO_MANAGE-ERNAM,     "PR생성자,
       END OF GS_DISP1.
DATA : GT_DISP1 LIKE TABLE OF GS_DISP1.


DATA : BEGIN OF GS_DISP2,
       ICON  TYPE ICON-ID,
       MATNR TYPE EBAN-MATNR,  "자재번호
       TXZ01 TYPE VBAP-ARKTX,  "자재설명
       TMTNR TYPE EBAN-MATNR,  "최상위자재
       VBELN TYPE VBAK-VBELN,  "해당 SO
       MENGE TYPE EBAN-MENGE,  "주문수량
       MEINS TYPE EBAN-MEINS,  "단위
       BADAT TYPE EBAN-BADAT,  "배송일자
       WERKS TYPE EBAN-WERKS,  "플랜트
       EKGRP TYPE EBAN-EKGRP,  "PUR.GRP
       ICON2 TYPE ICON-ID,     "재고 관련 ICON
       LABST TYPE MARD-LABST,  "현 재고
       LFMON TYPE EKBE-MENGE,  "주문 재고
       TOTAL TYPE I,           "총 재고(현재고+주문재고)
       EISBE TYPE MARC-EISBE,  "SAFETY STOCK
       PRNUM TYPE CHAR20,      "PR 번호
       MESGE TYPE CHAR100,     "결과메세지
       MARK  TYPE CHAR1,
       END OF GS_DISP2.
DATA : GT_DISP2 LIKE TABLE OF GS_DISP2.



*클래스형 변수
DATA : GO_DOCKING  TYPE REF TO CL_GUI_DOCKING_CONTAINER,
       GO_CONT1    TYPE REF TO CL_GUI_CONTAINER, "왼쪼
       GO_CONT2    TYPE REF TO CL_GUI_CONTAINER, "오른쪽
       GO_CONT3    TYPE REF TO CL_GUI_CUSTOM_CONTAINER, "더블클릭
       GO_GRID1    TYPE REF TO CL_GUI_ALV_GRID, "왼쪽
       GO_GRID2    TYPE REF TO CL_GUI_ALV_GRID, "오른쪽
       GO_GRID3    TYPE REF TO CL_GUI_ALV_GRID, "더블클릭
       GO_SPLITTER TYPE REF TO CL_GUI_SPLITTER_CONTAINER.

*EVENT
DATA : GO_EVENT_RECEIVER TYPE REF TO ZCL_EVENT_RECEIVER.

*FIELDCAT
DATA : GS_FIELDCAT1 TYPE LVC_S_FCAT,
       GT_FIELDCAT1 TYPE LVC_T_FCAT,
       GS_FIELDCAT2 TYPE LVC_S_FCAT,
       GT_FIELDCAT2 TYPE LVC_T_FCAT,
       GS_FIELDCAT3 TYPE LVC_S_FCAT,
       GT_FIELDCAT3 TYPE LVC_T_FCAT.

*SORE
DATA : GS_SORT TYPE LVC_S_SORT,
       GT_SORT TYPE LVC_T_SORT.

*OKCODE
DATA : GV_OKCODE TYPE SY-UCOMM,
       GV_UCOMM TYPE SY-UCOMM.

*LAYOUT
DATA : GS_LAYO TYPE LVC_S_LAYO,
       GS_LAYO2 TYPE LVC_S_LAYO.

DATA : GS_ROWS1 TYPE LVC_S_ROW,
       GT_ROWS1 TYPE LVC_T_ROW.

DATA : GS_ROWS2 TYPE LVC_S_ROW,
       GT_ROWS2 TYPE LVC_T_ROW.

*TOOLBAR
DATA : GT_FUNCTIONS TYPE UI_FUNCTIONS.

*배송 오고 있는 재고 계산
DATA : BEGIN OF GS_DATA_P,     "EKPO(모든 PO)담아줄 테이블
       MATNR TYPE EKPO-MATNR,
       WERKS TYPE EKPO-WERKS,
       MENGE TYPE EKPO-MENGE,
       END OF GS_DATA_P.
DATA : GT_DATA_P LIKE TABLE OF GS_DATA_P WITH HEADER LINE.

DATA : BEGIN OF GS_DATA_B,
       MATNR TYPE EKBE-MATNR,
       WERKS TYPE EKPO-WERKS,
       MENGE TYPE EKPO-MENGE,
       END OF GS_DATA_B.
DATA : GT_DATA_B LIKE TABLE OF GS_DATA_B WITH HEADER LINE.

*안전재고
DATA : BEGIN OF GS_DATA,
       MATNR TYPE MARC-MATNR,
       EISBE TYPE MARC-EISBE,
       END OF   GS_DATA.
DATA : GT_DATA LIKE TABLE OF GS_DATA.

*행 삭제
DATA : GS_DEL LIKE GS_DISP2,
       GT_DEL LIKE TABLE OF GS_DISP2.

*PRNUM
DATA : GV_PRNUM LIKE ZSO_MANAGE-BANFN.
